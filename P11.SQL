CREATE TABLE P11(
	[TEST CASE] VARCHAR(200)
)

INSERT INTO P11 VALUES ('A'), ('B'), ('C');


WITH CTE([TEST CASES], [TEST CASE])
AS
(
	SELECT [TEST CASE], [TEST CASE] FROM P11
	UNION ALL
	SELECT CAST(A.[TEST CASES]+','+B.[TEST CASE] AS VARCHAR(200)), B.[TEST CASE] FROM CTE A JOIN P11 B
	ON A.[TEST CASE]<>B.[TEST CASE]
	AND CHARINDEX(B.[TEST CASE], [TEST CASES]) = 0
)SELECT * FROM CTE WHERE LEN([TEST CASES]) = 2*(SELECT COUNT(*) FROM P11)-1 ORDER BY [TEST CASES];